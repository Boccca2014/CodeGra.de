


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up Unit Tests &mdash; CodeGrade Mosaic.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Enabling Continuous Feedback for an assignment" href="enabling-continuous-feedback-for-an-assignment.html" />
    <link rel="prev" title="Setting up Checkpoints" href="setting-up-checkpoints.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                Mosaic.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="use-codegrade-as-a-student.html">How to use CodeGrade as a student</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started-with-codegrade.html">Getting started with CodeGrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="autotest-best-practices.html">Best Practices for AutoTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-an-assignment.html">Create a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="set-up-a-rubric-for-an-assignment.html">Set up a rubric for an assignment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="setting-up-autotest.html">Setting up AutoTest</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="setting-up-iotest.html">Add IO tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="setting-up-runprogramtest.html">Add Run Program tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="setting-up-capturepointstest.html">Add Capture Points tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="setting-up-checkpoints.html">Add Checkpoints</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Add Unit Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compatibility-scripts">Compatibility scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-dependencies">Installing dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compiling-code-and-tests">Compiling code and tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-tests">Running tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="enabling-continuous-feedback-for-an-assignment.html">Enabling Continuous Feedback for an assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="set-up-group-assignment.html">Set up a CodeGrade group assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="setting-up-hand-in-requirements.html">Set up hand-in requirements for a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="setting-up-git-uploads.html">Set up Git uploads for a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="checking-for-plagiarism.html">Check for plagiarism in a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="dividing-submissions.html">Divide submissions over graders</a></li>
<li class="toctree-l1"><a class="reference internal" href="pass-back-grades-to-canvas-blackboard-moodle-brightspace.html">Pass back grades to Canvas, Blackboard, Moodle or Brightspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-managing-and-using-snippets.html">Create, manage and use snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup-password-for-codegrade-account.html">Set up a password for my CodeGrade account</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-shortcuts.html">Using shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="cannot-find-feature-in-codegrade.html">I cannot find a feature in CodeGrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing-codegrade-filesystem.html">Install the CodeGrade Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-codegrade-filesystem.html">Use the CodeGrade Filesystem to locally mount CodeGrade</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/overview.html">Overview of CodeGrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/codeviewer.html">Code Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/management.html">Course and Assignment Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/plagiarism.html">Plagiarism Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/groups.html">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/permissions.html">Permissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/preferences.html">Settings and Site Preferences</a></li>
<li class="toctree-l1"><a class="reference external" href="https://fs-docs.codegra.de">Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/lms.html">LMS Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/autotest/overview.html">AutoTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/analytics-dashboard.html">Analytics Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/exam-mode.html">Exam mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/notifications.html">Notifications</a></li>
</ul>
<p class="caption"><span class="caption-text">About CodeGrade</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/about.html">About CodeGrade</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeGrade</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="setting-up-autotest.html">Setting up AutoTest</a> &raquo;</li>
        
      <li>Setting up Unit Tests</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guides/setting-up-unittest.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setting-up-unit-tests">
<span id="id1"></span><h1>Setting up Unit Tests<a class="headerlink" href="#setting-up-unit-tests" title="Permalink to this headline">Â¶</a></h1>
<p>The Unit Test runs a unit testing framework that produces a <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/SSQ2R2_14.2.0/com.ibm.rsar.analysis.codereview.cobol.doc/topics/cac_useresults_junit.html">JUnit XML</a>
file with the results of the tests at a location stored in the
<code class="docutils literal notranslate"><span class="pre">$CG_JUNIT_XML_LOCATION</span></code> environment variable.</p>
<p>The resulting score of this test is the fraction of successful tests divided by
the total number of tests that were run, multiplied by the <strong>weight</strong> of the
test.</p>
<ol class="arabic simple">
<li><p>Press the â<em class="fa codegrade fa-plus"></em> <strong>Unit Test</strong>â button to add a new Unit Test test to
your Test Category.</p></li>
<li><p>Enter the command that will run your test suite. The command should write
a JUnit XML file to the location given in the <code class="docutils literal notranslate"><span class="pre">$CG_JUNIT_XML_LOCATION</span></code>
environment variable.</p></li>
</ol>
<div class="section" id="compatibility-scripts">
<h2>Compatibility scripts<a class="headerlink" href="#compatibility-scripts" title="Permalink to this headline">Â¶</a></h2>
<p>For most unit testing frameworks it is necessary to install additional software
and to figure out how to make the framework output its results to the correct
location. We provide wrapper scripts for a growing list of frameworks that
handle all of this for you. Check out the <a class="reference internal" href="../user/autotest/tests.html#autotest-tests-unit-test"><span class="std std-ref">Unit Test documentation</span></a> for a list of frameworks that are already
supported, or contact us at <a class="reference external" href="mailto:support&#37;&#52;&#48;codegrade&#46;com">support<span>&#64;</span>codegrade<span>&#46;</span>com</a> if your preferred framework is not listed
there so we can discuss the possibilities!</p>
<p>All wrapper scripts share a similar interface and procedure for running tests,
which we describe below.</p>
<div class="section" id="installing-dependencies">
<h3>Installing dependencies<a class="headerlink" href="#installing-dependencies" title="Permalink to this headline">Â¶</a></h3>
<p>If extra software needs to be installed to run the testing framework the
wrapper script provides an <code class="docutils literal notranslate"><span class="pre">install</span></code> command that will install all required
dependencies. This should be run in the âGlobal setup scriptâ section of your AutoTest
configuration.</p>
<p>For example, to install JUnit 4 and its dependencies you would run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cg-junit4 install
</pre></div>
</div>
</div>
<div class="section" id="compiling-code-and-tests">
<h3>Compiling code and tests<a class="headerlink" href="#compiling-code-and-tests" title="Permalink to this headline">Â¶</a></h3>
<p>For compiled languages it can be tricky to get the compiler to find all
libraries and other dependencies needed to compile the studentsâ code and your
tests. For these languages the wrapper scripts provide a <code class="docutils literal notranslate"><span class="pre">compile</span></code> command
that configures the compiler to be able to find the required libraries. The
<code class="docutils literal notranslate"><span class="pre">compile</span></code> command takes file names as arguments and compiles those files.</p>
<p>For example, to compile all <code class="docutils literal notranslate"><span class="pre">.java</span></code> files in the current directory, including
a JUnit version 4 test class, you would run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cg-junit4 compile *.java
</pre></div>
</div>
</div>
<div class="section" id="running-tests">
<h3>Running tests<a class="headerlink" href="#running-tests" title="Permalink to this headline">Â¶</a></h3>
<p>Running the tests can be similarly tricky when a language needs to know about
certain locations of libraries it depends on, but also because you need to
figure out how you can make the framework output its results in the correct
format, or in the correct location. The wrapper scripts handle this in their
<code class="docutils literal notranslate"><span class="pre">run</span></code> command.</p>
<p>The scripts extract the output location from <code class="docutils literal notranslate"><span class="pre">$CG_JUNIT_XML_LOCATION</span></code> and
then unset it before running the tests. The testing framework is then
configured to output its results at that location and the tests are executed.</p>
<p>For example, to run a JUnit 4 test class named <code class="docutils literal notranslate"><span class="pre">MyTestClass</span></code> you would run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cg</span><span class="o">-</span><span class="n">junit4</span> <span class="n">run</span> <span class="n">MyTestClass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The exact arguments to the <code class="docutils literal notranslate"><span class="pre">run</span></code> command of each script may differ
between scripts.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="enabling-continuous-feedback-for-an-assignment.html" class="btn btn-neutral float-right" title="Enabling Continuous Feedback for an assignment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setting-up-checkpoints.html" class="btn btn-neutral float-left" title="Setting up Checkpoints" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, CodeGrade

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>