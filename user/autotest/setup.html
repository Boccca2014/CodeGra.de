

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setup &mdash; CodeGrade v1.16.13 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Levels" href="levels.html" />
    <link rel="prev" title="AutoTest" href="overview.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                v1.16.13
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guides/use-codegrade-as-a-student.html">How to use CodeGrade as a student</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/getting-started-with-codegrade.html">Getting started with CodeGrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/autotest-best-practices.html">Best Practices for AutoTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/creating-an-assignment.html">Create a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/set-up-a-rubric-for-an-assignment.html">Set up a rubric for an assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/setting-up-autotest.html">Setting up AutoTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/enabling-continuous-feedback-for-an-assignment.html">Enabling Continuous Feedback for an assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/set-up-group-assignment.html">Set up a CodeGrade group assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/setting-up-hand-in-requirements.html">Set up hand-in requirements for a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/setting-up-git-uploads.html">Set up Git uploads for a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/checking-for-plagiarism.html">Check for plagiarism in a CodeGrade assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/dividing-submissions.html">Divide submissions over graders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/pass-back-grades-to-canvas-blackboard-moodle-brightspace.html">Pass back grades to Canvas, Blackboard, Moodle or Brightspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/creating-managing-and-using-snippets.html">Create, manage and use snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/setup-password-for-codegrade-account.html">Set up a password for my CodeGrade account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/using-shortcuts.html">Using shortcuts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/cannot-find-feature-in-codegrade.html">I cannot find a feature in CodeGrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/installing-codegrade-filesystem.html">Install the CodeGrade Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/use-codegrade-filesystem.html">Use the CodeGrade Filesystem to locally mount CodeGrade</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview of CodeGrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeviewer.html">Code Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../management.html">Course and Assignment Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plagiarism.html">Plagiarism Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groups.html">Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../permissions.html">Permissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preferences.html">Settings and Site Preferences</a></li>
<li class="toctree-l1"><a class="reference external" href="https://fs-docs.codegra.de">Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lms.html">LMS Integration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">AutoTest</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#default-installed-software">Default Installed Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="#result-visibility">Result visibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rubric-calculation">Rubric calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#minimum">Minimum</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maximum">Maximum</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uploading-fixtures">Uploading fixtures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#limiting-student-access">Limiting student access</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#global-setup-script">Global setup script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#per-student-setup-script">Per student setup script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatically-generated-output">Automatically generated output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="levels.html">Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="categories.html">Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="continuous-feedback.html">Continuous Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-autotest.html">Running AutoTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="student-experience.html">Student Experience</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">About CodeGrade</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/about.html">About CodeGrade</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developerdocs.html">Developer documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CodeGrade</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="overview.html">AutoTest</a> &raquo;</li>
        
      <li>Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user/autotest/setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setup">
<span id="autotest-setup"></span><h1>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h1>
<p>To make CodeGrade AutoTest as flexible as possible, it is possible to customize
the complete environment the tests are run in. Each separate assignment that
makes use of AutoTest runs on its own Virtual Server in the cloud, to which you
have superuser rights and network access during the setup phase. Every server on
official CodeGrade instances runs with the latest LTS version of Ubuntu, which
is <strong>Ubuntu 18.04.2 LTS</strong>.</p>
<p>After the Setup Phase is finished, a snapshot is created which is used to
initialize the containers used to run the actual tests on the student
submissions. The Setup Phase consists of the default installed software,
fixtures (the location of the fixtures directory is random for every category
and setup script to make it more virtually impossible for students to guess the
location and changes. The location is stored in the <code class="docutils literal notranslate"><span class="pre">$FIXTURES</span></code> environment
variable) and setup script.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Setup scripts and other scrips (fixtures) that are executed have to use
<strong>Unix Line Endings (LF)</strong> and <strong>not</strong> Windows Line Endings (CRLF)!</p>
</div>
<p>There are multiple options for setting up your environment, which makes AutoTest
easy to use for simple cases yet very flexible for all advanced cases.</p>
<div class="section" id="default-installed-software">
<h2>Default Installed Software<a class="headerlink" href="#default-installed-software" title="Permalink to this headline">¶</a></h2>
<p>Each AutoTest VPS environment comes with pre-installed software that is
commonly used for testing and running student submissions. This body of software
is sufficient for most cases, which allows you to skip manually further setting
up the environment.</p>
<p>The following software is automatically installed in all environments, all
versions, except for Python, are lower bounds, as all packages are always
updated to the latest version shipped by Ubuntu:</p>
<ul class="simple">
<li>Python 2.7 <em>(with pip)</em></li>
<li>Python 3.6 <em>(with pip3)</em></li>
<li>Python 3.7 <em>(with pip3)</em></li>
<li>Java 8 <em>(openjdk-8-jdk)</em></li>
<li>Java 11 <em>(openjdk-11-jdk)</em></li>
<li>Jupyter/IPython</li>
<li>Mono <em>(6.4)</em></li>
<li>Node <em>(JavaScript 8.10)</em></li>
<li>Octave <em>(4.2.2)</em></li>
<li>R <em>(r-base 3.4)</em></li>
<li>C/C++ <em>(gcc 7 and clang 6 as compilers)</em></li>
<li>Go <em>(golang 1.10)</em></li>
<li>Git</li>
<li>Maven</li>
<li>Flake8</li>
<li>Numpy <em>(for Python2, Python3.6 and Python3.7)</em></li>
<li>SciPy <em>(for Python2, Python3.6 and Python3.7)</em></li>
<li>Check <em>(unit test framework for C)</em></li>
</ul>
<p>Read the following sections to find out about extending this environment with
other required software.</p>
</div>
<div class="section" id="result-visibility">
<span id="at-result-visibility"></span><h2>Result visibility<a class="headerlink" href="#result-visibility" title="Permalink to this headline">¶</a></h2>
<p>When a student uploads, AutoTest immediately runs on the handed in submission.
You can choose whether you want the student to directly be able to view the
AutoTest result (known as <a class="reference internal" href="continuous-feedback.html#cont-feedback"><span class="std std-ref">Continuous Feedback</span></a>)
or that the student can only view the result when the assignment is set to “Done” (just like with any other
feedback).</p>
<p>The AutoTest rubric categories will be filled in automatically and directly in
either case if you have not created any hidden steps.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you have created hidden steps, AutoTest will be run again automatically
within 30 minutes after the deadline, where the hidden steps are also executed.
Before the deadline, hidden steps are never executed.</p>
</div>
</div>
<div class="section" id="rubric-calculation">
<h2>Rubric calculation<a class="headerlink" href="#rubric-calculation" title="Permalink to this headline">¶</a></h2>
<p>There are two modes to fill in the rubric:</p>
<div class="section" id="minimum">
<h3>Minimum<a class="headerlink" href="#minimum" title="Permalink to this headline">¶</a></h3>
<p>A category’s item will be chosen when the lower
bound of this item is reached (e.g. when a category has 4 items and 75% of the
tests succeed, the maximum item is filled in).</p>
</div>
<div class="section" id="maximum">
<h3>Maximum<a class="headerlink" href="#maximum" title="Permalink to this headline">¶</a></h3>
<p>A category’s item will be chosen when the upper bound of
this item is reached (e.g. you need 100% passed tests to have the maximum item filled in).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The percentages of the items in a category are independent of the amount of points
given to them. E.g. if you have 4 items, item 1 is always 0%-25%, item 2 is 25%-50% and so forth.</p>
</div>
</div>
</div>
<div class="section" id="uploading-fixtures">
<h2>Uploading fixtures<a class="headerlink" href="#uploading-fixtures" title="Permalink to this headline">¶</a></h2>
<p>Fixtures can be optionally uploaded to the AutoTest VPS. Fixtures are files you
can upload prior to the test, which will be available in every separate test
container. Use cases are files used as setup script (see next section), unit
tests, custom software to run or install and test input.</p>
<p>Select the fixtures to be uploaded and submit these to upload. A list of
previously uploaded fixtures can be found above the upload dialog and managed
here too.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Archives are <strong>not</strong> automatically extracted when uploading fixtures. This
makes it possible to use <em>unextracted</em> archives as fixtures too. Use the
commands <code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">xfvz</span> <span class="pre">$FIXTURES/ARCHIVE.tar.gz</span></code> or
<code class="docutils literal notranslate"><span class="pre">unzip</span> <span class="pre">$FIXTURES/ARCHIVE.zip</span></code> to extract archives manually. Be careful
with the permissions, we recommend running <code class="docutils literal notranslate"><span class="pre">chown</span> <span class="pre">-R</span> <span class="pre">codegrade:codegrade</span>
<span class="pre">$FIXTURES/dir</span></code> and <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">-R</span> <span class="pre">750</span> <span class="pre">$FIXTURES/dir</span></code> after extracting.</p>
</div>
<div class="section" id="limiting-student-access">
<span id="autotest-limit-student-access"></span><h3>Limiting student access<a class="headerlink" href="#limiting-student-access" title="Permalink to this headline">¶</a></h3>
<p>It is sometimes desirable to limit student access to fixtures or to limit the
visibility of your uploaded fixtures. For instance if one of your fixtures is a
solution to the assignment you use to test student submissions against.</p>
<p>We offer multiple means of limiting undesirable student access to fixtures.
Firstly, the path to the fixtures is randomly generated for each category and
thus only accessible using the <code class="docutils literal notranslate"><span class="pre">$FIXTURES</span></code> environment variable. This makes it
harder for students to access the path, but not impossible.</p>
<p>A way to further limit student permissions in the <code class="docutils literal notranslate"><span class="pre">$FIXTURES</span></code> folder is to
execute student code with the <code class="docutils literal notranslate"><span class="pre">become_nobody</span></code> command. When executed in this
mode, students will have no permissions to read from the <code class="docutils literal notranslate"><span class="pre">$FIXTURES</span></code> folder.
They will have permissions in the <code class="docutils literal notranslate"><span class="pre">$STUDENT</span></code> folder, which is the current
directory in which student submission files are accessible, to read and
execute.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Copying files from the <code class="docutils literal notranslate"><span class="pre">$FIXTURES</span></code> directory to the <code class="docutils literal notranslate"><span class="pre">$STUDENT</span></code> directory
with the <code class="docutils literal notranslate"><span class="pre">cp</span></code> or <code class="docutils literal notranslate"><span class="pre">mv</span></code> commands will <strong>not</strong> change permissions on these
files, and the <code class="docutils literal notranslate"><span class="pre">nobody</span></code> user will <strong>not</strong> be able to read them. Use
<code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">755</span> <span class="pre">&lt;FILE&gt;</span></code> to properly set these or use the <code class="docutils literal notranslate"><span class="pre">install</span></code> command
to set these right away: <code class="docutils literal notranslate"><span class="pre">install</span> <span class="pre">-m</span> <span class="pre">755</span> <span class="pre">$FIXTURES/&lt;fixture&gt;</span> <span class="pre">$STUDENT</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, scripts ran with the <code class="docutils literal notranslate"><span class="pre">become_nobody</span></code> command cannot write
new files to the <code class="docutils literal notranslate"><span class="pre">$STUDENT</span></code> directory. Setting the write permission on
the entire <code class="docutils literal notranslate"><span class="pre">$STUDENT</span></code> directory may be undesirable, as students may be
able to overwrite their own code during the tests. Therefore, we recommend
you create a new subdirectory where the output should be written with
<code class="docutils literal notranslate"><span class="pre">install</span> <span class="pre">-Dm</span> <span class="pre">777</span> <span class="pre">$STUDENT/&lt;SUBDIR&gt;</span></code>. If this subdirectory contains files
that should not be read by students, use permission <code class="docutils literal notranslate"><span class="pre">733</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="global-setup-script">
<h2>Global setup script<a class="headerlink" href="#global-setup-script" title="Permalink to this headline">¶</a></h2>
<p>A setup script can be specified which runs prior to the tests to customize the
initial environment. Any script can be uploaded as fixture and subsequently
run with the command given in the <em>Global setup script to run</em> input field.</p>
<p>This can be, for example, a bash script that installs software using apt and
extracts archives, or compiles unit tests.</p>
<p>If you need to setup or compile software for each student specifically and not
globally, use the <em>Per student setup script</em> for this. Install any packages
using the <em>Global setup script</em> as this will greatly increase the speed of
AutoTest Runs</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Setup scripts and other scrips (fixtures) that are executed have to use
<strong>Unix Line Endings (LF)</strong> and <strong>not</strong> Windows Line Endings (CRLF)!</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Network access</strong> and <strong>Superuser rights</strong> are available during the Setup
Phase.</p>
</div>
</div>
<div class="section" id="per-student-setup-script">
<h2>Per student setup script<a class="headerlink" href="#per-student-setup-script" title="Permalink to this headline">¶</a></h2>
<p>Use the per student setup script to compile, for example, each submission’s code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want compiling to be part of a test, use the <em>Run program</em> test for
this.</p>
</div>
</div>
<div class="section" id="automatically-generated-output">
<span id="autotest-automatically-generated-output"></span><h2>Automatically generated output<a class="headerlink" href="#automatically-generated-output" title="Permalink to this headline">¶</a></h2>
<p>It may be desirable have files generated automatically after students submit
their work. This is also possible on the AutoTest infrastructure. While most
generated files (think compilation artifacts) are deleted when the test has
finished, files written to the <code class="docutils literal notranslate"><span class="pre">$AT_OUTPUT</span></code> directory are sent back to
CodeGrade so the student and/or teacher can review them later on.</p>
<p>This directory is cleared between each AutoTest category. The generated files
can be viewed in the Code Viewer in the “AutoTest output” category in the file
tree.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default the <code class="docutils literal notranslate"><span class="pre">$AT_OUTPUT</span></code> directory is writable by the user running the
AutoTest steps. This means that students will also be able to write to this
directory, or even overwrite files that were generated earlier. To prevent
this from happening, see also the notes in <a class="reference internal" href="#autotest-limit-student-access"><span class="std std-ref">Limiting student access</span></a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="levels.html" class="btn btn-neutral float-right" title="Levels" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral float-left" title="AutoTest" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CodeGrade

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>